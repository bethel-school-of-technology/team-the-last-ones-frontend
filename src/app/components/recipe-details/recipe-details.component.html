<div class="container mt-5 recipe-detail-container">
  <div class="card shadow-sm p-4">
    <div class="text-center mb-4">
      <h2 class="meal-title">{{ meal?.strMeal }}</h2>
      <img
        [src]="meal?.strMealThumb"
        alt="{{ meal?.strMeal }}"
        class="img-fluid rounded"
        style="max-height: 300px"
      />
    </div>
    <ng-container *ngIf="isLoggedIn()">
      <div class="d-flex justify-content-end mt-3">
        <button class="btn btn-custom-calendar" (click)="goToCalendar()">
          Go to Meal Plan
        </button>
      </div>
    </ng-container>

    <div class="mb-4">
      <h4 class="text-secondary">Ingredients</h4>
      <ul class="list-group list-group-flush">
        <li class="list-group-item" *ngFor="let item of ingredients">
          {{ item }}
        </li>
      </ul>
    </div>

    <div class="mb-4">
      <h4 class="text-secondary">Instructions</h4>
      <p class="text-justify">{{ instructions }}</p>
    </div>

    <ng-container *ngIf="isLoggedIn()">
      <div class="mb-4">
        <h5 class="text-info">Add to Meal Plan</h5>

        <div class="row g-3 align-items-center">
          <div class="col-md-6">
            <label for="day" class="form-label">Choose a Day:</label>
            <select
              id="day"
              class="form-select"
              [(ngModel)]="selectedDay"
              name="day"
            >
              <option *ngFor="let date of weekDates" [value]="date.key">
                {{ date.label }}
              </option>
            </select>
          </div>

          <div class="col-md-6">
            <label for="meal" class="form-label">Meal Type:</label>
            <select
              id="meal"
              class="form-select"
              [(ngModel)]="selectedMeal"
              name="meal"
            >
              <option>Breakfast</option>
              <option>Lunch</option>
              <option>Dinner</option>
            </select>
          </div>
        </div>
      </div>
    </ng-container>

    <div class="d-flex justify-content-between mt-4">
      <button class="btn btn-custom-back" (click)="goToRecipes()">
        ‚Üê Back to Recipes
      </button>

      <ng-container *ngIf="isLoggedIn()">
        <button class="btn btn-custom-add" (click)="addToCalendar()">
          Add to Meal Plan
        </button>
      </ng-container>
    </div>
  </div>
</div>
